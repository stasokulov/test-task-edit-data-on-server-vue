(function(t){function e(e){for(var n,o,i=e[0],u=e[1],c=e[2],l=0,d=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,o=1;o<r.length;o++){var i=r[o];0!==a[i]&&(n=!1)}n&&(s.splice(e--,1),t=u(u.s=r[0]))}return t}var n={},o={app:0},a={app:0},s=[];function i(t){return u.p+"js/"+({about:"about"}[t]||t)+"."+{about:"c2201fff"}[t]+".js"}function u(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(t){var e=[],r={about:1};o[t]?e.push(o[t]):0!==o[t]&&r[t]&&e.push(o[t]=new Promise((function(e,r){for(var n="css/"+({about:"about"}[t]||t)+"."+{about:"2c2c3975"}[t]+".css",a=u.p+n,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===a))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],l=c.getAttribute("data-href");if(l===n||l===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||a,s=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete o[t],f.parentNode.removeChild(f),r(s)},f.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){o[t]=0})));var n=a[t];if(0!==n)if(n)e.push(n[2]);else{var s=new Promise((function(e,r){n=a[t]=[e,r]}));e.push(n[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(t);var d=new Error;c=function(e){l.onerror=l.onload=null,clearTimeout(f);var r=a[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",d.name="ChunkLoadError",d.type=n,d.request=o,r[1](d)}a[t]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=n,u.d=function(t,e,r){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)u.d(r,n,function(e){return t[e]}.bind(null,n));return r},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var f=l;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"050e":function(t,e,r){},"48bb":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"app-wrap"},[r("router-view")],1)])},a=[],s=(r("5c0b"),r("2877")),i={},u=Object(s["a"])(i,o,a,!1,null,null,null),c=u.exports,l=(r("d3b7"),r("8c4f")),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Form"),t._m(0)],1)},f=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"notes"},[r("h3",[t._v("Примечания")]),r("p",[t._v(" Для перехода на страницу со списком пользователей введите почту и пароль, которые указаны в скобках возле инпутов. ")]),r("p",[t._v(" В этой работе демонстрируется работа фронтенда, поэтому истинная авторизация мокается (нет вычисления хэша на сервере и вот это все). Логин и пароль сверяются на фронте с данными полученными в явном виде с сервера. ")]),r("p",[t._v(" Используется сервис "),r("a",{attrs:{href:"https://my-json-server.typicode.com/"}},[t._v("my-json-server.typicode.com")]),t._v(", который эмулирует работу с сервером. Первоначальные данные загружаются с сервера, но изменение, добавление и редактирование не вызывают изменений на сервере. Сервис предоставляет ответы, как если бы данные на сервере изменялись. ")])])}],p=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-wrap"},[r("form",[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"email"}},[t._v("Введите email (admin@admin.com)")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"email@email.com"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"password"}},[t._v("Введите пароль (123)")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.startAuthorization(e)}}},[t._v("Submit")])]),r("div",{staticClass:"modal",class:{showModal:t.showErrorModal}},[r("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h5",{staticClass:"modal-title"},[t._v("Пара почта-пароль не найдена")]),r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[r("span",{on:{click:function(e){t.showErrorModal=!1}}},[t._v("×")])])]),t._m(0),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){t.showErrorModal=!1}}},[t._v("Close")])])])])]),r("modal-loading")],1)},m=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal-body"},[r("p",[t._v("Попробуйте еще раз")])])}],v=(r("4160"),r("159b"),r("8043")),h={name:"Form",components:{ModalLoading:v["a"]},data:function(){return{email:"",password:"",showErrorModal:!1}},methods:{startAuthorization:function(){this.$store.dispatch("loadData")}},computed:{usersFromStore:function(){return this.$store.getters.getData},loadingStatus:function(){return this.$store.getters.getLoadingStatus}},watch:{usersFromStore:function(){var t=this;this.usersFromStore&&this.usersFromStore.forEach((function(e){e.email===t.email&&e.password===t.password?document.location.href="#/users":t.showErrorModal=!0}))}}},g=h,b=(r("ae84"),Object(s["a"])(g,p,m,!1,null,"3bdb523f",null)),S=b.exports,_={name:"Home",components:{Form:S}},w=_,y=(r("9456"),Object(s["a"])(w,d,f,!1,null,"3aefe6fc",null)),E=y.exports;n["a"].use(l["a"]);var T=[{path:"/",name:"Home",component:E},{path:"/users",name:"Users",component:function(){return r.e("about").then(r.bind(null,"ed81"))}}],O=new l["a"]({routes:T}),j=O,C=(r("a434"),r("96cf"),r("1da1")),L=r("5530"),A=r("2f62");n["a"].use(A["a"]);var k=function(){return fetch("https://my-json-server.typicode.com/stasokulov/test-task-edit-data-on-server-vue/users").then((function(t){return t.json()})).then((function(t){return t}))},x=function(t){return fetch("https://my-json-server.typicode.com/stasokulov/test-task-edit-data-on-server-vue/users",{method:"POST",body:JSON.stringify(Object(L["a"])({},t)),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){return t.json()})).then((function(t){return t}))},D=function(t){var e="https://my-json-server.typicode.com/stasokulov/test-task-edit-data-on-server-vue/users/"+t.id;return fetch(e,{method:"PUT",body:JSON.stringify(Object(L["a"])({},t)),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){return t.json()})).then((function(t){return t}))},U=function(t){var e="https://my-json-server.typicode.com/stasokulov/test-task-edit-data-on-server-vue/users/"+t;return fetch(e,{method:"DELETE"}).then((function(t){return t.json()})).then((function(t){return t}))},N=new A["a"].Store({state:{usersList:"",loadingInProgress:!1},mutations:{SET_LOADING_STATUS:function(t,e){t.loadingInProgress=e},SET_USERS:function(t,e){t.usersList=e},ADD_USER:function(t,e){t.usersList.push(e)},EDIT_USER:function(t,e){t.usersList.forEach((function(r,n){if(r.id===e.id)for(var o in e)t.usersList[n][o]=e[o]}))},DELETE_USER:function(t,e){t.usersList.forEach((function(r,n){r.id===e&&t.usersList.splice([n],1)}))}},getters:{getData:function(t){return t.usersList},getLoadingStatus:function(t){return t.loadingInProgress}},actions:{loadData:function(t){return Object(C["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,r("SET_LOADING_STATUS",!0),e.next=5,k();case 5:n=e.sent,r("SET_USERS",n),r("SET_LOADING_STATUS",!1),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))()},addUser:function(t,e){return Object(C["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.prev=1,n("SET_LOADING_STATUS",!0),r.next=5,x(e);case 5:o=r.sent,n("ADD_USER",o),n("SET_LOADING_STATUS",!1),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](1),console.error(r.t0);case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()},editUser:function(t,e){return Object(C["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.prev=1,n("SET_LOADING_STATUS",!0),r.next=5,D(e);case 5:o=r.sent,n("EDIT_USER",o),n("SET_LOADING_STATUS",!1),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](1),console.error(r.t0);case 13:case"end":return r.stop()}}),r,null,[[1,10]])})))()},deleteUser:function(t,e){return Object(C["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,r.prev=1,n("SET_LOADING_STATUS",!0),r.next=5,U(e);case 5:n("DELETE_USER",e),n("SET_LOADING_STATUS",!1),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](1),console.error(r.t0);case 12:case"end":return r.stop()}}),r,null,[[1,9]])})))()}}});n["a"].config.productionTip=!1,new n["a"]({router:j,store:N,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";var n=r("9c0c"),o=r.n(n);o.a},"60a0":function(t,e,r){"use strict";var n=r("8a73"),o=r.n(n);o.a},8043:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal",class:{showModal:t.loadingStatus}},[r("div",{staticClass:"modal-message"},[t._v(" Обновление... ")])])},o=[],a={name:"Modal-loading",computed:{loadingStatus:function(){return this.$store.getters.getLoadingStatus}}},s=a,i=(r("60a0"),r("2877")),u=Object(i["a"])(s,n,o,!1,null,"6da0be3b",null);e["a"]=u.exports},"8a73":function(t,e,r){},9456:function(t,e,r){"use strict";var n=r("48bb"),o=r.n(n);o.a},"9c0c":function(t,e,r){},ae84:function(t,e,r){"use strict";var n=r("050e"),o=r.n(n);o.a}});
//# sourceMappingURL=app.d0bfcce9.js.map